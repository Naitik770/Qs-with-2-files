<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="description" content="Search space for images, videos, news, and more">
    <meta name="description" content="search engine, google like search engine, google clone, search space, searchspace, web search engine, search engine clone, bing clone, custom search engine, video search engine">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search space</title>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
 
<style>

      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        margin: 0;
        width: 100%;
        font-family: Arial, sans-serif;
        background-color: #ffffff;
       -webkit-tap-highlight-color: transparent;
     
     }

        .logo {
           font-size: 51px;
           margin-bottom: 15px;
           font-weight: bold;
           color: #4285F4;
           text-shadow: -3px 0 #EA4335, 3px 0 #FBBC05, 6px 0 #34A853;
        }
        
        .search-container {
           margin-bottom: 20px;
           background-color: #fff;
           padding: 5px;
           padding-bottom: 25px;
           width: 291px;
           height: 15px;
           border-radius: 1000px;
           border: 1px solid #dfe1e5;
           box-shadow: 0 1px 8px rgba(32, 33, 36, 0.28);
           border-color: rgba(223, 225, 229, 0);
           
        }
        
        .search-box {
           font-size: 17px;
           height: 30px;
           border: none;
           width: 225px;
           background-color: transparent;
           margin-top: 2px;
           outline: none;
           margin-left: 32px;
        }
        
        .buttons {
           margin-top: 15px;
           display: flex;
           gap: 10px;
        }
        
        .btn {
           padding: 15px 45px;
           font-size: 14.3px;
           color: #3c4043;
           background-color: #f8f9fa;
           border: 1px solid #f8f9fa;
           border-radius: 4px;
           cursor: pointer;
           box-shadow: 0 1px 3px rgba(60, 64, 67, 0.3);
          
        }
        

        
        .btn:active {
           background-color: #e8e8e8;
        }
        
        #signInButton {
           position: relative;
           bottom: 175px;
           left: 105px;
           padding: 10px 20px;
           font-size: 14px;
           color: #fff;
           background-color: #4285F4;
           border: none;
           border-radius: 4px;
           cursor: pointer;
           text-decoration: none;
        }
        
        #profile-picture {
           width: 50px;
           position: relative;
           bottom: 175px;
           left: 115px;
           height: 50px;
           border-radius: 50%;
           cursor: pointer;
           box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        
     #searchicon {
        content: "";
        position: absolute;
        margin-top: 3px; /* Align icon vertically */
        margin-left: 3px; /* Align icon horizontally */
    }

    #mic-button {
       content: "";
        position: absolute;
        width: 30px;
        height: 30px;
        margin-top: 5px; /* Align button vertically */
        right: 15px; /* Align button to the right edge */
        border: none;
        background: none;
        cursor: pointer;
    }


    

    .mic-icon {
       content: "";
      font-family: 'Material Icons';
      font-size: 30px; /* Adjust size */
      color: #000; /* Change color */
      display: inline-block;
      cursor: pointer;
      transition: transform 0.3s ease, color 0.3s ease;
    }

    .mic-icon:active {
      color: #888; /* Hover color */
      transform: scale(1.2); /* Zoom on hover */
    }
    
    .search-icon {
       content: "";
      font-family: 'Material Icons';
      font-size: 30px; /* Adjust size */
      color: #000; /* Change color */
      display: inline-block;
      cursor: pointer;
      transition: transform 0.3s ease, color 0.3s ease;
    }
    
   .mic-icon:hover {
      background: transparent;
      background-color: transparent;
    }

.voice-prompt {
    text-align: center;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    padding: 20px;
    height: 300px;
    width: 250px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
}

.voice-prompt .mic-icon {
    content: "";
    transition: transform 0.3s ease, color 0.3s ease;
    font-family: 'Material Icons';
    color: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #4285F4;
    color: white;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    margin: 0 auto 20px auto;
    font-size: 40px;
}

.voice-prompt h1 {
    color: #666;
}

.voice-prompt .status {
    font-size: 20px;
    color: #666;
}

.voice-prompt p {
    color: gray;
    font-size: 14px;
}

.mic-icon, .search-icon, .history-icon {
    user-select: none; /* Disable text selection */
    -webkit-user-select: none;
    -ms-user-select: none;
    outline: none; /* Remove focus outline */
}

#mic-button, #searchicon, #history {
    outline: none; /* Remove focus outline */
    user-select: none; /* Disable text selection */
}

#overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
    z-index: 999; /* Place it below the modal */
}

#speech-modal {
    z-index: 1000; /* Ensure modal is above the overlay */
}

    .background {
      position: absolute;
      top: 44.5%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 130px;
      height: 130px;
      background: rgba(66, 133, 244, 0.2);
      border-radius: 50%;
      z-index: 0;
      
    }

    .background.wave {
      animation: wave 1.5s infinite;
    }

    @keyframes wave {
      0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.6;
      }
      50% {
        transform: translate(-50%, -50%) scale(1.5);
        opacity: 0.3;
      }
      100% {
        transform: translate(-50%, -50%) scale(2);
        opacity: 0;
      }
    }
    
   
/* General responsiveness for small devices */
@media only screen and (max-width: 600px) {
    .logo {
        font-size: 51px;
    }

    #signInButton {
           position: relative;
           bottom: 175px;
           left: 105px;
           padding: 10px 20px;
           font-size: 14px;
           color: #fff;
           background-color: #4285F4;
           border: none;
           border-radius: 4px;
           cursor: pointer;
           text-decoration: none;
           }

           #profile-picture {
              width: 50px;
              position: relative;
              bottom: 175px;
              left: 115px;
              height: 50px;
              border-radius: 50%;
              cursor: pointer;
              box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
           }

    .btn {
        padding: 15px 45px;
        font-size: 14.3px;
        color: #3c4043;
        background-color: #f8f9fa;
        border: 1px solid #f8f9fa;
        border-radius: 4px;
        cursor: pointer;
        box-shadow: 0 1px 3px rgba(60, 64, 67, 0.3);
        
       }
        
         .btn:active {
             background-color: #e8e8e8;
           }

    #mic-button, #searchicon {
        font-size: 30px;
    }

    .voice-prompt {
    text-align: center;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    padding: 20px;
    height: 300px;
    width: 250px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    }

    .voice-prompt .mic-icon {
    content: "";
    transition: transform 0.3s ease, color 0.3s ease;
    font-family: 'Material Icons';
    color: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #4285F4;
    color: white;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    margin: 0 auto 20px auto;
    font-size: 40px;
}
}

/* For medium-sized devices like tablets */
@media only screen and (min-width: 601px) and (max-width: 1024px) {
    .logo {
        font-size: 100px;
    }

    .search-container {
        width: 85%;
        
    }

    .search-box {
        font-size: 20px;
        width: calc(100% - 75px);
    }

    #signInButton {
        font-size: 13px;
        padding: 10px 25px;
        bottom: 770px;
        width: 90px;
        margin-left: 700px;
        transform: translateX(-50%);
    }

    #profile-picture {
        width: 80px;
        height: 80px;
        bottom: 770px;
        margin-left: 700px;
        transform: translateX(-50%);
    }

    .btn {
        padding: 14px 35px;
        font-size: 15px;
    }

    #mic-button, #searchicon {
        font-size: 30px;
    }
    
    #mic-button{
       right:75px;
    }
    
    
    .voice-prompt {
        width: 70%;
        
    }

    .voice-prompt .mic-icon {
        width: 100px;
        height: 100px;
        font-size: 40px;

    }
}

/* Sidebar container */
.sidebar {
  position: fixed;
  top: 0;
  left: -250px; /* Start hidden */
  height: 100%;
  width: 250px;
  background-color: #ffffff;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.2);
  z-index: 1000;
  transition: left 0.3s ease;
  overflow: auto;
}

/* Sidebar content */
.sidebar-content {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* Close button */
.close-btn {
  font-size: 24px;
  cursor: pointer;
  align-self: flex-end;
}

/* Sidebar buttons */
.sidebar-button {
  padding: 10px 15px;
  font-size: 16px;
  border: none;
  background-color: #f1f1f1;
  border-radius: 5px;
  cursor: pointer;
  text-align: left;
}

.sidebar-button:hover {
  background-color: #e0e0e0;
}

/* Menu icon */
.menu-icon {
  font-family: 'Material Icons';
  font-size: 36px;
  cursor: pointer;
  position: absolute;
  top: 10px;
  left: 10px;
  color: #222;
  
}
</style>
</head>
<body>
<div id="sidebar" class="sidebar">
  <div class="sidebar-content">
    <span class="close-btn" id="closeSidebar">×</span>
    <h1>Menu</h1>
    <button class="sidebar-button" onclick="navigateTo('history.html')">History</button>
    <button class="sidebar-button" onclick="navigateTo('profile.html')">Profile</button>

</div>
</div>
<div class="menu-icon" id="menuIcon"> menu</div>

<!-- Speech Modal -->
<div id="overlay" style="display: none;"></div>
<div id="speech-modal" class="voice-prompt" style="display: none;">
    <h1>Search Space</h1>
     <div class="background" id="wave"></div>
    <div class="mic-icon" id="mic-icon">mic</div>
    <div id="speech-status" class="status">Try saying something</div>
    <p>English (United States)</p>
</div>


    
    <div id="profile-section">
        <button id="signInButton" onclick="window.location.href='sign-in.html'">Sign In</button>
              <img id="profile-picture" src="" alt="Profile" onclick="window.location.href='profile.html'" style="display: none;">
              </div>

    <div class="logo">Query Search</div>

<div class="search-container">
 <div class="search-icon" id="searchicon">search</div>
    <input type="text" class="search-box" id="searchQuery" spellcheck="true" placeholder="Type here..." required>
  <div class="mic-icon" id="mic-button">mic</div>
</div>

    <div class="buttons">
        <button class="btn" id="sb" onclick="search()">Search</button>
      
    </div>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.9.0/firebase-app.js';
        import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.9.0/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyAtAsCAld8L6Gn96mkDYXQZSMqQyf0TYxI",
            authDomain: "simple-login-3f73a.firebaseapp.com",
            projectId: "simple-login-3f73a",
            storageBucket: "simple-login-3f73a.appspot.com",
            messagingSenderId: "622220968094",
            appId: "1:622220968094:web:c219e77b41b4222555fb8f",
            measurementId: "G-5LMTNYDPSB"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        const signInButton = document.getElementById('signInButton');
        const profilePicture = document.getElementById('profile-picture');

        // Listen to auth state changes
onAuthStateChanged(auth, (user) => {
  if (user) {
    // User is signed in
    const profilePicUrl = user.photoURL || localStorage.getItem('profile-pic') || 'https://i.postimg.cc/Fsxcnzf5/727399.png';
    profilePicture.src = profilePicUrl;
    profilePicture.style.display = 'block';
    signInButton.style.display = 'none';
  } else {
    // No user is signed in
    profilePicture.style.display = 'none';
    signInButton.style.display = 'inline-block';
  }
});

  
</script>
  <script>

    // Save search query to localStorage when the search button is clicked
    document.getElementById("sb").addEventListener("click", function() {
       const searchQuery = document.getElementById("searchQuery").value;
       if (searchQuery) {
          saveSearchQuery(searchQuery);
          // Optionally redirect to history page after saving the query

       }
    });

    // Function to save the search query to localStorage
    function saveSearchQuery(query) {
       const timestamp = new Date().toLocaleString(); // Get the current timestamp
       const newSearchHistory = { query, timestamp };

       // Retrieve existing search history from localStorage
       let history = JSON.parse(localStorage.getItem("searchHistory")) || [];

       // Add the new search query to the history
       history.push(newSearchHistory);

       // Save the updated history back to localStorage
       localStorage.setItem("searchHistory", JSON.stringify(history));
    }
    
    
function search() {
   const query = document.getElementById('searchQuery').value.trim();
   if (query) {
      const encodedQuery = encodeURIComponent(query);
      window.location.href = `/search.html?q=${encodedQuery}`; // Add the query as a URL parameter
   }
}

function startVoiceSearch() {
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    if (!SpeechRecognition) {
        alert("Speech recognition is not supported in this browser. Please use a modern browser.");
        return;
    }

    const recognition = new SpeechRecognition();
    recognition.lang = "en-US";
    const speechModal = document.getElementById("speech-modal");
    const speechStatus = document.getElementById("speech-status");
    const overlay = document.getElementById("overlay");
    const wave = document.getElementById("wave");

    let stopTimeout;

    // Show the modal and overlay when speech recognition starts
    recognition.onstart = () => {
        overlay.style.display = "block";
        speechModal.style.display = "block";
        speechStatus.textContent = "Listening...";
        wave.classList.add("wave"); // Add the wave animation class
        clearTimeout(stopTimeout); // Clear any previous timeout to avoid premature stopping
    };

    // Update the modal with recognized speech in real time
    recognition.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        speechStatus.textContent = `${transcript}`; // Display spoken text
        document.getElementById("searchQuery").value = transcript; // Fill the search box
    };

    // Handle errors
    recognition.onerror = (event) => {
        console.error("Speech recognition error:", event.error);
        speechStatus.textContent = "Error occurred. Please try again.";
        setTimeout(() => {
            speechModal.style.display = "none";
            overlay.style.display = "none";
            wave.classList.remove("wave"); // Remove the wave animation class
        }, 4000);
    };

    // Hide the modal and overlay after a 2-second delay when recognition ends
    recognition.onend = () => {
        stopTimeout = setTimeout(() => {
            speechModal.style.display = "none";
            overlay.style.display = "none";
            wave.classList.remove("wave"); // Remove the wave animation class
        }, 500); // delay before hiding the modal
    };

    // Stop voice recognition and hide modal on overlay click
    overlay.addEventListener("click", () => {
        recognition.stop(); // Stop voice recognition
        speechModal.style.display = "none";
        overlay.style.display = "none";
        wave.classList.remove("wave"); // Remove the wave animation class
    });

    recognition.start();
}

// Attach the function to the microphone button
document.getElementById("mic-button").addEventListener("click", startVoiceSearch);

           document.getElementById('searchQuery').addEventListener('keydown', function(event) {
          if (event.key === 'Enter') {
            event.preventDefault(); // Prevent the default form submission
            search('web'); // Call the search function with the 'web' parameter
          }
        });
         
         // Sidebar toggle functionality
const sidebar = document.getElementById("sidebar");
const menuIcon = document.getElementById("menuIcon");
const closeSidebar = document.getElementById("closeSidebar");

// Function to open sidebar
menuIcon.addEventListener("click", () => {
  sidebar.style.left = "0";
});

// Function to close sidebar
closeSidebar.addEventListener("click", () => {
  sidebar.style.left = "-250px";
});

// Navigation function
function navigateTo(url) {
  window.location.href = url;
}

    </script>
</body>
</html>
